# Telegram Bot для планирования отправки ссылок

Бот для автоматической отправки ссылок в указанное время в другой Telegram бот.

## Функционал

- Принимает ссылки от пользователя
- Запрашивает время отправки в формате HH:MM (например, 15:05)
- Автоматически отправляет ссылку в целевой бот в указанное время

## Установка и запуск локально

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Настройте переменные окружения в файле `.env`:
```
BOT_TOKEN=ваш_токен_бота
TARGET_BOT_TOKEN=токен_бота_получателя
TARGET_BOT_USERNAME=имя_бота_получателя
TARGET_BOT_CHAT_ID=chat_id_бота_получателя (опционально, можно получить через /get_chat_id)
```

3. Запустите бота:
```bash
python bot.py
```

## Развертывание на Railway.com

1. Создайте новый проект на [Railway.com](https://railway.com)

2. Подключите ваш GitHub репозиторий или загрузите файлы напрямую

3. В настройках проекта добавьте переменные окружения:
   - `BOT_TOKEN` - токен вашего бота
   - `TARGET_BOT_TOKEN` - токен бота-получателя
   - `TARGET_BOT_USERNAME` - имя бота-получателя (без @)
   - `TARGET_BOT_CHAT_ID` - chat_id бота-получателя (опционально, можно получить через команду /get_chat_id)

4. Railway автоматически определит `Procfile` и запустит бота

5. Убедитесь, что в настройках проекта выбран тип "Worker" (не Web)

## Использование

1. Отправьте боту команду `/start`
2. Отправьте ссылку (должна начинаться с http://, https:// или www.)
3. Укажите время отправки в формате HH:MM (например, 15:05)
4. Бот автоматически отправит ссылку в указанное время

## Команды

- `/start` - Начать работу с ботом
- `/help` - Показать справку
- `/list` - Показать список запланированных отправок
- `/get_chat_id` - Получить chat_id целевого бота (для настройки переменной окружения TARGET_BOT_CHAT_ID)

## Важно!

Для корректной работы бота необходимо, чтобы целевой бот начал диалог с вашим ботом. Для этого:
1. Отправьте команду `/start` целевому боту от имени вашего бота (используя токен целевого бота)
2. Или используйте команду `/get_chat_id` в вашем боте для получения chat_id целевого бота
3. Добавьте полученный chat_id в переменную окружения `TARGET_BOT_CHAT_ID` для более надежной работы

## Технологии

- Python 3.8+
- aiogram 3.7.0
- python-dotenv
